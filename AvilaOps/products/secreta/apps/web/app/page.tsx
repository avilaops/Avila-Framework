"use client"; import { useEffect } from "react"; import { initGA4, captureUTM, sendEvent, updateConsent } from "@/lib/ga"; export default function HomePage() { useEffect(() => { captureUTM(); initGA4(); const hasConsent = localStorage.getItem("avila_consent") === "true"; if (hasConsent) { updateConsent(true); } sendEvent("view_page", { env: (process.env.NEXT_PUBLIC_ENV as any) || "dev", account_id: "guest", page_path: window.location.pathname }); }, []); const handleFormStart = () => { sendEvent("start_form", { env: (process.env.NEXT_PUBLIC_ENV as any) || "dev", account_id: "guest", form_name: "contact" }); }; const handleFormSubmit = (accountId: string) => { sendEvent("submit_form", { env: (process.env.NEXT_PUBLIC_ENV as any) || "dev", account_id: accountId, form_name: "contact" }); }; return ( <div> <h1>Secreta Metaverse</h1> <button onClick={handleFormStart}>Começar Formulário</button> </div> ); }